{"ast":null,"code":"var _jsxFileName = \"D:\\\\WORKING WEBSITES\\\\CUSTM WEB\\\\frontend\\\\src\\\\pages\\\\AdminNotifications.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminNotifications = () => {\n  _s();\n  const [notifications, setNotifications] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [message, setMessage] = useState('');\n  const [form, setForm] = useState('');\n  const [sendMsg, setSendMsg] = useState('');\n  const fetchNotifications = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const token = localStorage.getItem('token');\n      const res = await axios.get('/api/auth/admin/notifications', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setNotifications(res.data.notifications);\n    } catch (err) {\n      setError('Could not fetch notifications.');\n    }\n    setLoading(false);\n  };\n  useEffect(() => {\n    fetchNotifications();\n  }, []);\n  const handleSend = async e => {\n    e.preventDefault();\n    setSendMsg('');\n    try {\n      const token = localStorage.getItem('token');\n      await axios.post('/api/auth/admin/notifications', {\n        message: form\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setSendMsg('Notification sent!');\n      setForm('');\n      fetchNotifications();\n    } catch {\n      setSendMsg('Could not send notification.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      color: '#E5E7EB',\n      maxWidth: '700px',\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        color: '#2ECC71',\n        fontWeight: 700,\n        fontSize: '1.7rem',\n        marginBottom: '1.2rem'\n      },\n      children: \"Notifications\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSend,\n      style: {\n        display: 'flex',\n        gap: '1rem',\n        marginBottom: '2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: form,\n        onChange: e => setForm(e.target.value),\n        placeholder: \"Enter notification message\",\n        style: {\n          flex: 1,\n          padding: '0.7rem',\n          borderRadius: '0.5rem',\n          border: '1px solid #333',\n          background: '#23272F',\n          color: '#E5E7EB'\n        },\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          background: '#2ECC71',\n          color: '#181A20',\n          border: 'none',\n          borderRadius: '0.5rem',\n          padding: '0.7rem 1.5rem',\n          fontWeight: 700,\n          fontSize: '1rem',\n          cursor: 'pointer'\n        },\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), sendMsg && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: sendMsg.includes('sent') ? '#2ECC71' : '#FF6B35',\n          marginLeft: '1rem'\n        },\n        children: sendMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: '#23272F',\n        borderRadius: '1rem',\n        padding: '2rem',\n        boxShadow: '0 2px 12px rgba(0,0,0,0.08)'\n      },\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#FF6B35'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this) : notifications.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No notifications found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          listStyle: 'none',\n          padding: 0\n        },\n        children: notifications.map(n => /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            background: '#181A20',\n            borderRadius: '0.5rem',\n            padding: '1rem',\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: n.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.95rem',\n              color: '#A0AEC0'\n            },\n            children: [\"Sent: \", new Date(n.createdAt).toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this)]\n        }, n._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminNotifications, \"axm0SvYf835RuC1O6FEG9F5NTOs=\");\n_c = AdminNotifications;\nexport default AdminNotifications;\nvar _c;\n$RefreshReg$(_c, \"AdminNotifications\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","AdminNotifications","_s","notifications","setNotifications","loading","setLoading","error","setError","message","setMessage","form","setForm","sendMsg","setSendMsg","fetchNotifications","token","localStorage","getItem","res","get","headers","Authorization","data","err","handleSend","e","preventDefault","post","style","color","maxWidth","margin","children","fontWeight","fontSize","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","display","gap","type","value","onChange","target","placeholder","flex","padding","borderRadius","border","background","required","cursor","includes","marginLeft","boxShadow","length","listStyle","map","n","Date","createdAt","toLocaleString","_id","_c","$RefreshReg$"],"sources":["D:/WORKING WEBSITES/CUSTM WEB/frontend/src/pages/AdminNotifications.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst AdminNotifications = () => {\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [form, setForm] = useState('');\r\n  const [sendMsg, setSendMsg] = useState('');\r\n\r\n  const fetchNotifications = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const res = await axios.get('/api/auth/admin/notifications', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setNotifications(res.data.notifications);\r\n    } catch (err) {\r\n      setError('Could not fetch notifications.');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => { fetchNotifications(); }, []);\r\n\r\n  const handleSend = async e => {\r\n    e.preventDefault();\r\n    setSendMsg('');\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      await axios.post('/api/auth/admin/notifications', { message: form }, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setSendMsg('Notification sent!');\r\n      setForm('');\r\n      fetchNotifications();\r\n    } catch {\r\n      setSendMsg('Could not send notification.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ color: '#E5E7EB', maxWidth: '700px', margin: '0 auto' }}>\r\n      <h2 style={{ color: '#2ECC71', fontWeight: 700, fontSize: '1.7rem', marginBottom: '1.2rem' }}>Notifications</h2>\r\n      <form onSubmit={handleSend} style={{ display: 'flex', gap: '1rem', marginBottom: '2rem' }}>\r\n        <input\r\n          type=\"text\"\r\n          value={form}\r\n          onChange={e => setForm(e.target.value)}\r\n          placeholder=\"Enter notification message\"\r\n          style={{ flex: 1, padding: '0.7rem', borderRadius: '0.5rem', border: '1px solid #333', background: '#23272F', color: '#E5E7EB' }}\r\n          required\r\n        />\r\n        <button type=\"submit\" style={{ background: '#2ECC71', color: '#181A20', border: 'none', borderRadius: '0.5rem', padding: '0.7rem 1.5rem', fontWeight: 700, fontSize: '1rem', cursor: 'pointer' }}>Send</button>\r\n        {sendMsg && <span style={{ color: sendMsg.includes('sent') ? '#2ECC71' : '#FF6B35', marginLeft: '1rem' }}>{sendMsg}</span>}\r\n      </form>\r\n      <div style={{ background: '#23272F', borderRadius: '1rem', padding: '2rem', boxShadow: '0 2px 12px rgba(0,0,0,0.08)' }}>\r\n        {loading ? (\r\n          <div>Loading...</div>\r\n        ) : error ? (\r\n          <div style={{ color: '#FF6B35' }}>{error}</div>\r\n        ) : notifications.length === 0 ? (\r\n          <div>No notifications found.</div>\r\n        ) : (\r\n          <ul style={{ listStyle: 'none', padding: 0 }}>\r\n            {notifications.map(n => (\r\n              <li key={n._id} style={{ background: '#181A20', borderRadius: '0.5rem', padding: '1rem', marginBottom: '1rem' }}>\r\n                <div>{n.message}</div>\r\n                <div style={{ fontSize: '0.95rem', color: '#A0AEC0' }}>Sent: {new Date(n.createdAt).toLocaleString()}</div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminNotifications; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}