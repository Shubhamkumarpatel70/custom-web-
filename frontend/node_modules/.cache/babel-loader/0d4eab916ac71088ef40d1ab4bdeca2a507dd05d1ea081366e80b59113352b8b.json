{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate,Link}from'react-router-dom';import axios from'../axios';import{UserContext}from'../UserContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const UPI_ID='customweb@upi';const Payment=()=>{const{plan}=useParams();const navigate=useNavigate();const[status,setStatus]=useState('idle');const[subscription,setSubscription]=useState(null);const[error,setError]=useState('');const[plans,setPlans]=useState([]);const[transactionId,setTransactionId]=useState('');const[amount,setAmount]=useState('');const[planObj,setPlanObj]=useState(null);const[coupon,setCoupon]=useState('');const[couponMsg,setCouponMsg]=useState('');const[discount,setDiscount]=useState(0);const[applyingCoupon,setApplyingCoupon]=useState(false);const[copied,setCopied]=useState(false);useEffect(()=>{const fetchPlans=async()=>{try{const res=await axios.get('/api/auth/plans');setPlans(res.data.plans);const found=res.data.plans.find(p=>p.name.toLowerCase()===plan.toLowerCase());if(found){setAmount(found.price);setPlanObj(found);}}catch(_unused){}};fetchPlans();},[plan]);if(!planObj){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-gray-900\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-red-500 text-xl font-medium\",children:\"Invalid plan selected.\"})});}const handleApplyCoupon=async()=>{setCouponMsg('');setApplyingCoupon(true);try{const res=await axios.post('/api/auth/coupons/apply',{code:coupon});setDiscount(res.data.amount);setCouponMsg(\"Coupon applied! \\u20B9\".concat(res.data.amount,\" off.\"));}catch(err){var _err$response,_err$response$data;setDiscount(0);setCouponMsg(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Invalid coupon.');}setApplyingCoupon(false);};const handlePayment=async()=>{if(!transactionId){setError('Please enter your transaction ID.');return;}setStatus('processing');setError('');try{if(coupon&&discount>0){await axios.post('/api/auth/coupons/apply',{code:coupon,use:true});}const token=localStorage.getItem('token');const res=await axios.post('/api/auth/subscribe',{plan:planObj.name.toLowerCase(),transactionId,method:'upi'},{headers:{Authorization:\"Bearer \".concat(token)}});setSubscription(res.data.subscription);setStatus('success');}catch(err){var _err$response2,_err$response2$data;setStatus('error');setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Payment or subscription failed.');}};const totalAmount=Math.max(0,amount-discount);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-900 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/plans'),className:\"mb-4 text-sm text-blue-400 hover:underline\",children:\"\\u2190 Back to Plans\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-emerald-400 mb-2\",children:\"Complete Your Payment\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400\",children:[\"For \",planObj.name,\" Plan\"]})]}),status==='idle'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 rounded-lg p-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300\",children:\"Plan:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:planObj.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300\",children:\"Amount:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",amount]})]}),discount>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300\",children:\"Discount:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-emerald-400 font-medium\",children:[\"-\\u20B9\",discount]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center pt-2 border-t border-gray-600\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300 font-medium\",children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-bold\",children:[\"\\u20B9\",totalAmount]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Coupon code\",value:coupon,onChange:e=>{setCoupon(e.target.value);setCouponMsg('');setDiscount(0);},className:\"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-emerald-500\",disabled:applyingCoupon||discount>0}),discount>0?/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setCoupon('');setDiscount(0);setCouponMsg('');},className:\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors\",children:\"Remove\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleApplyCoupon,disabled:applyingCoupon||!coupon,className:\"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-medium transition-colors\",children:applyingCoupon?'...':'Apply'})]}),couponMsg&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm flex items-center gap-2 \".concat(couponMsg.includes('off')?'text-emerald-400':'text-red-400'),children:[couponMsg.includes('off')?/*#__PURE__*/_jsx(\"span\",{children:\"\\u2714\\uFE0F\"}):/*#__PURE__*/_jsx(\"span\",{children:\"\\u274C\"}),couponMsg]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 rounded-lg p-4 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-gray-300 text-sm font-medium mb-2\",children:\"PAYMENT INSTRUCTIONS\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-1\",children:\"Send payment to this UPI ID:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-3 rounded-lg flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-mono text-emerald-400\",children:UPI_ID}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{navigator.clipboard.writeText(UPI_ID);setCopied(true);setTimeout(()=>setCopied(false),1500);},className:\"text-blue-400 hover:text-blue-300 text-sm\",children:copied?'Copied!':'Copy'})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"transactionId\",className:\"block text-gray-400 text-sm mb-1\",children:\"Transaction/Reference ID\"}),/*#__PURE__*/_jsx(\"input\",{id:\"transactionId\",type:\"text\",placeholder:\"Enter ID from payment confirmation\",value:transactionId,onChange:e=>setTransactionId(e.target.value),className:\"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-emerald-500\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-xs mt-1\",children:\"After successful payment, enter the transaction ID from your confirmation.\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePayment,className:\"w-full bg-emerald-500 hover:bg-emerald-600 text-gray-900 font-bold py-3 px-4 rounded-lg transition-colors shadow-lg\",disabled:!transactionId||status==='processing',children:status==='processing'?'Processing...':'Confirm Payment'}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-red-400 text-center text-sm\",children:error})]}),status==='processing'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-emerald-500 mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300\",children:\"Processing your payment...\"})]}),status==='success'&&subscription&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-white\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M5 13l4 4L19 7\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-emerald-400 mb-2\",children:\"Payment Successful!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 rounded-lg p-4 mb-6 text-left space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Plan:\"}),/*#__PURE__*/_jsx(\"span\",{children:subscription.plan})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Subscription ID:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-mono\",children:subscription.uniqueId})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"capitalize\",children:subscription.status})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/dashboard/purchases'),className:\"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors\",children:\"View My Purchases\"})]}),status==='error'&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-white\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M6 18L18 6M6 6l12 12\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-red-400 mb-2\",children:\"Payment Failed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-6\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setStatus('idle'),className:\"w-full bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg transition-colors\",children:\"Try Again\"})]})]})});};export default Payment;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Link","axios","UserContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UPI_ID","Payment","plan","navigate","status","setStatus","subscription","setSubscription","error","setError","plans","setPlans","transactionId","setTransactionId","amount","setAmount","planObj","setPlanObj","coupon","setCoupon","couponMsg","setCouponMsg","discount","setDiscount","applyingCoupon","setApplyingCoupon","copied","setCopied","fetchPlans","res","get","data","found","find","p","name","toLowerCase","price","_unused","className","children","handleApplyCoupon","post","code","concat","err","_err$response","_err$response$data","response","message","handlePayment","use","token","localStorage","getItem","method","headers","Authorization","_err$response2","_err$response2$data","totalAmount","Math","max","onClick","type","placeholder","value","onChange","e","target","disabled","includes","navigator","clipboard","writeText","setTimeout","htmlFor","id","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","uniqueId"],"sources":["D:/WORKING WEBSITES/CUSTM WEB/frontend/src/pages/Payment.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport axios from '../axios';\nimport { UserContext } from '../UserContext';\n\nconst UPI_ID = 'customweb@upi';\n\nconst Payment = () => {\n  const { plan } = useParams();\n  const navigate = useNavigate();\n  const [status, setStatus] = useState('idle');\n  const [subscription, setSubscription] = useState(null);\n  const [error, setError] = useState('');\n  const [plans, setPlans] = useState([]);\n  const [transactionId, setTransactionId] = useState('');\n  const [amount, setAmount] = useState('');\n  const [planObj, setPlanObj] = useState(null);\n  const [coupon, setCoupon] = useState('');\n  const [couponMsg, setCouponMsg] = useState('');\n  const [discount, setDiscount] = useState(0);\n  const [applyingCoupon, setApplyingCoupon] = useState(false);\n  const [copied, setCopied] = useState(false);\n\n  useEffect(() => {\n    const fetchPlans = async () => {\n      try {\n        const res = await axios.get('/api/auth/plans');\n        setPlans(res.data.plans);\n        const found = res.data.plans.find(p => p.name.toLowerCase() === plan.toLowerCase());\n        if (found) {\n          setAmount(found.price);\n          setPlanObj(found);\n        }\n      } catch {}\n    };\n    fetchPlans();\n  }, [plan]);\n\n  if (!planObj) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-900\">\n        <div className=\"text-center text-red-500 text-xl font-medium\">\n          Invalid plan selected.\n        </div>\n      </div>\n    );\n  }\n\n  const handleApplyCoupon = async () => {\n    setCouponMsg('');\n    setApplyingCoupon(true);\n    try {\n      const res = await axios.post('/api/auth/coupons/apply', { code: coupon });\n      setDiscount(res.data.amount);\n      setCouponMsg(`Coupon applied! ₹${res.data.amount} off.`);\n    } catch (err) {\n      setDiscount(0);\n      setCouponMsg(err.response?.data?.message || 'Invalid coupon.');\n    }\n    setApplyingCoupon(false);\n  };\n\n  const handlePayment = async () => {\n    if (!transactionId) {\n      setError('Please enter your transaction ID.');\n      return;\n    }\n    setStatus('processing');\n    setError('');\n    try {\n      if (coupon && discount > 0) {\n        await axios.post('/api/auth/coupons/apply', { code: coupon, use: true });\n      }\n      const token = localStorage.getItem('token');\n      const res = await axios.post(\n        '/api/auth/subscribe', \n        { \n          plan: planObj.name.toLowerCase(), \n          transactionId, \n          method: 'upi' \n        }, \n        {\n          headers: { Authorization: `Bearer ${token}` }\n        }\n      );\n      setSubscription(res.data.subscription);\n      setStatus('success');\n    } catch (err) {\n      setStatus('error');\n      setError(err.response?.data?.message || 'Payment or subscription failed.');\n    }\n  };\n\n  const totalAmount = Math.max(0, amount - discount);\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 flex items-center justify-center p-4\">\n      <div className=\"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-md\">\n        {/* Back Button */}\n        <button\n          onClick={() => navigate('/plans')}\n          className=\"mb-4 text-sm text-blue-400 hover:underline\"\n        >\n          ← Back to Plans\n        </button>\n        {/* Header */}\n        <div className=\"mb-8 text-center\">\n          <h2 className=\"text-2xl font-bold text-emerald-400 mb-2\">\n            Complete Your Payment\n          </h2>\n          <p className=\"text-gray-400\">For {planObj.name} Plan</p>\n        </div>\n\n        {status === 'idle' && (\n          <>\n            {/* Plan Details */}\n            <div className=\"bg-gray-700 rounded-lg p-4 mb-6\">\n              <div className=\"flex justify-between items-center mb-2\">\n                <span className=\"text-gray-300\">Plan:</span>\n                <span className=\"font-medium\">{planObj.name}</span>\n              </div>\n              <div className=\"flex justify-between items-center mb-2\">\n                <span className=\"text-gray-300\">Amount:</span>\n                <span>₹{amount}</span>\n              </div>\n              {discount > 0 && (\n                <>\n                  <div className=\"flex justify-between items-center mb-2\">\n                    <span className=\"text-gray-300\">Discount:</span>\n                    <span className=\"text-emerald-400 font-medium\">-₹{discount}</span>\n                  </div>\n                  <div className=\"flex justify-between items-center pt-2 border-t border-gray-600\">\n                    <span className=\"text-gray-300 font-medium\">Total:</span>\n                    <span className=\"text-white font-bold\">₹{totalAmount}</span>\n                  </div>\n                </>\n              )}\n            </div>\n\n            {/* Coupon Section */}\n            <div className=\"mb-6\">\n              <div className=\"flex gap-2 mb-2\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Coupon code\"\n                  value={coupon}\n                  onChange={e => {\n                    setCoupon(e.target.value);\n                    setCouponMsg('');\n                    setDiscount(0);\n                  }}\n                  className=\"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n                  disabled={applyingCoupon || discount > 0}\n                />\n                {discount > 0 ? (\n                  <button\n                    onClick={() => {\n                      setCoupon('');\n                      setDiscount(0);\n                      setCouponMsg('');\n                    }}\n                    className=\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors\"\n                  >\n                    Remove\n                  </button>\n                ) : (\n                  <button\n                    onClick={handleApplyCoupon}\n                    disabled={applyingCoupon || !coupon}\n                    className=\"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-medium transition-colors\"\n                  >\n                    {applyingCoupon ? '...' : 'Apply'}\n                  </button>\n                )}\n              </div>\n              {couponMsg && (\n                <div className={`text-sm flex items-center gap-2 ${couponMsg.includes('off') ? 'text-emerald-400' : 'text-red-400'}`}>\n                  {couponMsg.includes('off') ? (\n                    <span>✔️</span>\n                  ) : (\n                    <span>❌</span>\n                  )}\n                  {couponMsg}\n                </div>\n              )}\n            </div>\n\n            {/* Payment Instructions */}\n            <div className=\"bg-gray-700 rounded-lg p-4 mb-6\">\n              <h3 className=\"text-gray-300 text-sm font-medium mb-2\">PAYMENT INSTRUCTIONS</h3>\n              <div className=\"mb-3\">\n                <p className=\"text-gray-400 text-sm mb-1\">Send payment to this UPI ID:</p>\n                <div className=\"bg-gray-800 p-3 rounded-lg flex items-center justify-between\">\n                  <span className=\"font-mono text-emerald-400\">{UPI_ID}</span>\n                  <button \n                    onClick={() => {\n                      navigator.clipboard.writeText(UPI_ID);\n                      setCopied(true);\n                      setTimeout(() => setCopied(false), 1500);\n                    }}\n                    className=\"text-blue-400 hover:text-blue-300 text-sm\"\n                  >\n                    {copied ? 'Copied!' : 'Copy'}\n                  </button>\n                </div>\n              </div>\n              <div>\n                <label htmlFor=\"transactionId\" className=\"block text-gray-400 text-sm mb-1\">\n                  Transaction/Reference ID\n                </label>\n                <input\n                  id=\"transactionId\"\n                  type=\"text\"\n                  placeholder=\"Enter ID from payment confirmation\"\n                  value={transactionId}\n                  onChange={e => setTransactionId(e.target.value)}\n                  className=\"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n                />\n                <p className=\"text-gray-500 text-xs mt-1\">\n                  After successful payment, enter the transaction ID from your confirmation.\n                </p>\n              </div>\n            </div>\n\n            {/* Submit Button */}\n            <button\n              onClick={handlePayment}\n              className=\"w-full bg-emerald-500 hover:bg-emerald-600 text-gray-900 font-bold py-3 px-4 rounded-lg transition-colors shadow-lg\"\n              disabled={!transactionId || status === 'processing'}\n            >\n              {status === 'processing' ? 'Processing...' : 'Confirm Payment'}\n            </button>\n\n            {error && (\n              <div className=\"mt-4 text-red-400 text-center text-sm\">\n                {error}\n              </div>\n            )}\n          </>\n        )}\n\n        {status === 'processing' && (\n          <div className=\"flex flex-col items-center justify-center py-8\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-emerald-500 mb-4\"></div>\n            <p className=\"text-gray-300\">Processing your payment...</p>\n          </div>\n        )}\n\n        {status === 'success' && subscription && (\n          <div className=\"text-center py-6\">\n            <div className=\"w-16 h-16 bg-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\"></path>\n              </svg>\n            </div>\n            <h3 className=\"text-xl font-bold text-emerald-400 mb-2\">Payment Successful!</h3>\n            <div className=\"bg-gray-700 rounded-lg p-4 mb-6 text-left space-y-2\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-400\">Plan:</span>\n                <span>{subscription.plan}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-400\">Subscription ID:</span>\n                <span className=\"font-mono\">{subscription.uniqueId}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-400\">Status:</span>\n                <span className=\"capitalize\">{subscription.status}</span>\n              </div>\n            </div>\n            <button\n              onClick={() => navigate('/dashboard/purchases')}\n              className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors\"\n            >\n              View My Purchases\n            </button>\n          </div>\n        )}\n\n        {status === 'error' && (\n          <div className=\"text-center py-6\">\n            <div className=\"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\n              </svg>\n            </div>\n            <h3 className=\"text-xl font-bold text-red-400 mb-2\">Payment Failed</h3>\n            <p className=\"text-gray-300 mb-6\">{error}</p>\n            <button\n              onClick={() => setStatus('idle')}\n              className=\"w-full bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg transition-colors\"\n            >\n              Try Again\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Payment;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}