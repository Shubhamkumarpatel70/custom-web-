{"ast":null,"code":"import React,{useEffect,useContext}from'react';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import Navbar from'./components/Navbar';import Footer from'./components/Footer';import Home from'./pages/Home';import About from'./pages/About';import Plans from'./pages/Plans';import Services from'./pages/Services';import Features from'./pages/Features';import Team from'./pages/Team';import Contact from'./pages/Contact';import Login from'./pages/Login';import Register from'./pages/Register';import Dashboard from'./pages/Dashboard';import DashboardHome from'./pages/DashboardHome';import HelpAndSupport from'./pages/Help & Support';import SupportChat from'./pages/SupportChat';import Subscription from'./pages/Subscription';import MyPurchases from'./pages/MyPurchases';import Notifications from'./pages/Notifications';import Payment from'./pages/Payment';import AdminDashboard from'./pages/AdminDashboard';import AdminHome from'./pages/AdminHome';import AdminApprove from'./pages/AdminApprove';import AdminUsers from'./pages/AdminUsers';import AdminStats from'./pages/AdminStats';import AdminNotifications from'./pages/AdminNotifications';import AdminPlans from'./pages/AdminPlans';import AdminContacts from'./pages/AdminContacts';import{UserProvider,UserContext}from'./UserContext';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const{setUser}=useContext(UserContext);useEffect(()=>{const checkUser=async()=>{try{const token=localStorage.getItem('token');if(token){axios.defaults.headers.common['Authorization']=\"Bearer \".concat(token);const res=await axios.get('/api/auth/me');setUser(res.data.user);}}catch(err){console.error('Could not fetch user',err);// Token might be invalid, so clear it\nlocalStorage.removeItem('token');delete axios.defaults.headers.common['Authorization'];setUser(null);}};checkUser();},[setUser]);return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"main\",{style:{paddingTop:'70px',minHeight:'calc(100vh - 70px)'},children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"/plans\",element:/*#__PURE__*/_jsx(Plans,{})}),/*#__PURE__*/_jsx(Route,{path:\"/services\",element:/*#__PURE__*/_jsx(Services,{})}),/*#__PURE__*/_jsx(Route,{path:\"/features\",element:/*#__PURE__*/_jsx(Features,{})}),/*#__PURE__*/_jsx(Route,{path:\"/team\",element:/*#__PURE__*/_jsx(Team,{})}),/*#__PURE__*/_jsx(Route,{path:\"/contact\",element:/*#__PURE__*/_jsx(Contact,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsxs(Route,{path:\"/dashboard/*\",element:/*#__PURE__*/_jsx(Dashboard,{}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(DashboardHome,{})}),/*#__PURE__*/_jsx(Route,{path:\"support\",element:/*#__PURE__*/_jsx(HelpAndSupport,{})}),/*#__PURE__*/_jsx(Route,{path:\"subscription\",element:/*#__PURE__*/_jsx(Subscription,{})}),/*#__PURE__*/_jsx(Route,{path:\"purchases\",element:/*#__PURE__*/_jsx(MyPurchases,{})}),/*#__PURE__*/_jsx(Route,{path:\"notifications\",element:/*#__PURE__*/_jsx(Notifications,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"/payment/:plan\",element:/*#__PURE__*/_jsx(Payment,{})}),/*#__PURE__*/_jsxs(Route,{path:\"/admin-dashboard/*\",element:/*#__PURE__*/_jsx(AdminDashboard,{}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(AdminHome,{})}),/*#__PURE__*/_jsx(Route,{path:\"approve\",element:/*#__PURE__*/_jsx(AdminApprove,{})}),/*#__PURE__*/_jsx(Route,{path:\"users\",element:/*#__PURE__*/_jsx(AdminUsers,{})}),/*#__PURE__*/_jsx(Route,{path:\"stats\",element:/*#__PURE__*/_jsx(AdminStats,{})}),/*#__PURE__*/_jsx(Route,{path:\"notifications\",element:/*#__PURE__*/_jsx(AdminNotifications,{})}),/*#__PURE__*/_jsx(Route,{path:\"plans\",element:/*#__PURE__*/_jsx(AdminPlans,{})}),/*#__PURE__*/_jsx(Route,{path:\"contacts\",element:/*#__PURE__*/_jsx(AdminContacts,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"/support-chat/:complaintId\",element:/*#__PURE__*/_jsx(SupportChat,{})})]})}),/*#__PURE__*/_jsx(Footer,{})]});}const WrappedApp=()=>/*#__PURE__*/_jsx(UserProvider,{children:/*#__PURE__*/_jsx(App,{})});export default WrappedApp;","map":{"version":3,"names":["React","useEffect","useContext","BrowserRouter","Router","Routes","Route","Navbar","Footer","Home","About","Plans","Services","Features","Team","Contact","Login","Register","Dashboard","DashboardHome","HelpAndSupport","SupportChat","Subscription","MyPurchases","Notifications","Payment","AdminDashboard","AdminHome","AdminApprove","AdminUsers","AdminStats","AdminNotifications","AdminPlans","AdminContacts","UserProvider","UserContext","axios","jsx","_jsx","jsxs","_jsxs","App","setUser","checkUser","token","localStorage","getItem","defaults","headers","common","concat","res","get","data","user","err","console","error","removeItem","children","style","paddingTop","minHeight","path","element","index","WrappedApp"],"sources":["D:/WORKING WEBSITES/CUSTM WEB/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useContext } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport Navbar from './components/Navbar';\nimport Footer from './components/Footer';\nimport Home from './pages/Home';\nimport About from './pages/About';\nimport Plans from './pages/Plans';\nimport Services from './pages/Services';\nimport Features from './pages/Features';\nimport Team from './pages/Team';\nimport Contact from './pages/Contact';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Dashboard from './pages/Dashboard';\nimport DashboardHome from './pages/DashboardHome';\nimport HelpAndSupport from './pages/Help & Support';\nimport SupportChat from './pages/SupportChat';\nimport Subscription from './pages/Subscription';\nimport MyPurchases from './pages/MyPurchases';\nimport Notifications from './pages/Notifications';\nimport Payment from './pages/Payment';\nimport AdminDashboard from './pages/AdminDashboard';\nimport AdminHome from './pages/AdminHome';\nimport AdminApprove from './pages/AdminApprove';\nimport AdminUsers from './pages/AdminUsers';\nimport AdminStats from './pages/AdminStats';\nimport AdminNotifications from './pages/AdminNotifications';\nimport AdminPlans from './pages/AdminPlans';\nimport AdminContacts from './pages/AdminContacts';\nimport { UserProvider, UserContext } from './UserContext';\nimport axios from 'axios';\n\nfunction App() {\n  const { setUser } = useContext(UserContext);\n\n  useEffect(() => {\n    const checkUser = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (token) {\n          axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n          const res = await axios.get('/api/auth/me');\n          setUser(res.data.user);\n        }\n      } catch (err) {\n        console.error('Could not fetch user', err);\n        // Token might be invalid, so clear it\n        localStorage.removeItem('token');\n        delete axios.defaults.headers.common['Authorization'];\n        setUser(null);\n      }\n    };\n    checkUser();\n  }, [setUser]);\n\n  return (\n    <Router>\n      <Navbar />\n      <main style={{ paddingTop: '70px', minHeight: 'calc(100vh - 70px)' }}>\n        <Routes>\n          <Route path='/' element={<Home />} />\n          <Route path='/about' element={<About />} />\n          <Route path='/plans' element={<Plans />} />\n          <Route path='/services' element={<Services />} />\n          <Route path='/features' element={<Features />} />\n          <Route path='/team' element={<Team />} />\n          <Route path='/contact' element={<Contact />} />\n          <Route path='/login' element={<Login />} />\n          <Route path='/register' element={<Register />} />\n          <Route path='/dashboard/*' element={<Dashboard />}>\n            <Route index element={<DashboardHome />} />\n            <Route path='support' element={<HelpAndSupport />} />\n            <Route path='subscription' element={<Subscription />} />\n            <Route path='purchases' element={<MyPurchases />} />\n            <Route path='notifications' element={<Notifications />} />\n          </Route>\n          <Route path='/payment/:plan' element={<Payment />} />\n          <Route path='/admin-dashboard/*' element={<AdminDashboard />}>\n            <Route index element={<AdminHome />} />\n            <Route path='approve' element={<AdminApprove />} />\n            <Route path='users' element={<AdminUsers />} />\n            <Route path='stats' element={<AdminStats />} />\n            <Route path='notifications' element={<AdminNotifications />} />\n            <Route path='plans' element={<AdminPlans />} />\n            <Route path='contacts' element={<AdminContacts />} />\n          </Route>\n          <Route path='/support-chat/:complaintId' element={<SupportChat />} />\n        </Routes>\n      </main>\n      <Footer />\n    </Router>\n  );\n}\n\nconst WrappedApp = () => (\n  <UserProvider>\n    <App />\n  </UserProvider>\n);\n\nexport default WrappedApp; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}