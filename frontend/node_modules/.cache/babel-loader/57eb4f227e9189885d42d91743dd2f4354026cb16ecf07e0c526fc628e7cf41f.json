{"ast":null,"code":"import React,{useState,useContext,useCallback,useRef}from'react';import{Link,useNavigate,useLocation}from'react-router-dom';import axios from'../axios';import{UserContext}from'../UserContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _location$state;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[showPassword,setShowPassword]=useState(false);const[message,setMessage]=useState('');const[loading,setLoading]=useState(false);const[isSubmitting,setIsSubmitting]=useState(false);const navigate=useNavigate();const location=useLocation();const{setUser}=useContext(UserContext);const submitTimeoutRef=useRef(null);// Debounced form validation\nconst validateForm=useCallback(()=>{return email.trim()&&password.trim()&&email.includes('@');},[email,password]);// Optimized submit handler with debouncing\nconst handleSubmit=useCallback(async e=>{e.preventDefault();// Prevent multiple submissions\nif(isSubmitting||loading)return;// Clear any existing timeout\nif(submitTimeoutRef.current){clearTimeout(submitTimeoutRef.current);}// Basic validation\nif(!validateForm()){setMessage('Please enter valid email and password.');return;}setIsSubmitting(true);setLoading(true);setMessage('');// Clear any previous error messages\nsetMessage('');try{// Remove unnecessary delay and make login faster\nconst res=await axios.post('/api/auth/login',{email:email.trim(),password});// Store token immediately for faster subsequent requests\nlocalStorage.setItem('token',res.data.token);// Update user context\nsetUser(res.data.user);// Navigate based on role\nif(res.data.user&&res.data.user.role==='admin'){navigate('/admin-dashboard');}else{navigate('/dashboard');}}catch(err){var _err$response,_err$response2,_err$response3,_err$response4;setLoading(false);setIsSubmitting(false);// Better error handling with more specific messages\nif(err.code==='ECONNABORTED'||err.message.includes('timeout')){setMessage('Login timeout. Please check your connection and try again.');}else if(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===400){setMessage(err.response.data.message||'Invalid credentials.');}else if(((_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.status)===401){setMessage('Authentication failed. Please check your credentials.');}else if(((_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.status)===429){setMessage('Too many login attempts. Please wait a moment and try again.');}else if(((_err$response4=err.response)===null||_err$response4===void 0?void 0:_err$response4.status)>=500){setMessage('Server error. Please try again later.');}else if(err.message==='Network Error'){setMessage('Network error. Please check your internet connection.');}else{setMessage('Login failed. Please try again.');}}},[email,password,isSubmitting,loading,validateForm,setUser,navigate]);// Reset loading state on successful login\nReact.useEffect(()=>{if(!isSubmitting&&!loading){setLoading(false);setIsSubmitting(false);}},[isSubmitting,loading]);// Cleanup timeout on unmount\nReact.useEffect(()=>{return()=>{if(submitTimeoutRef.current){clearTimeout(submitTimeoutRef.current);}};},[]);// Handle Enter key press\nconst handleKeyPress=useCallback(e=>{if(e.key==='Enter'&&!isSubmitting&&!loading){handleSubmit(e);}},[handleSubmit,isSubmitting,loading]);return/*#__PURE__*/_jsxs(\"div\",{style:{background:'#181A20',minHeight:'100vh',display:'flex',alignItems:'center',justifyContent:'center',padding:'1rem'},children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{background:'#23272F',color:'#E5E7EB',padding:'2rem 1.5rem',borderRadius:'1rem',boxShadow:'0 4px 20px rgba(0,0,0,0.2)',width:'100%',maxWidth:'400px',display:'flex',flexDirection:'column',gap:'1.25rem',border:'2px solid #0057D9'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'#2ECC71',fontWeight:700,marginBottom:'0.25rem',textAlign:'center',fontSize:'1.75rem'},children:\"Login\"}),((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.success)&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#2ECC71',textAlign:'center',marginBottom:'0.5rem',fontWeight:600,fontSize:'0.95rem'},children:location.state.success}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",style:{position:'absolute',left:'1rem',top:'50%',transform:'translateY(-50%)',color:'#A0AEC0',fontSize:'1.2rem',pointerEvents:'none',zIndex:2},\"aria-hidden\":\"true\",children:\"\\uD83D\\uDCE7\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),onKeyPress:handleKeyPress,required:true,disabled:loading,style:{padding:'0.8rem 0.8rem 0.8rem 2.5rem',borderRadius:'0.5rem',border:'1px solid #3A3F47',fontSize:'1rem',background:loading?'#2A2E36':'#1E222A',color:'#E5E7EB',width:'100%',transition:'border-color 0.2s, background 0.2s',opacity:loading?0.7:1},onFocus:e=>!loading&&(e.target.style.borderColor='#0057D9'),onBlur:e=>!loading&&(e.target.style.borderColor='#3A3F47')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",style:{position:'absolute',left:'1rem',top:'50%',transform:'translateY(-50%)',color:'#A0AEC0',fontSize:'1.2rem',pointerEvents:'none',zIndex:2},\"aria-hidden\":\"true\",children:\"\\uD83D\\uDD12\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:showPassword?'text':'password',placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),onKeyPress:handleKeyPress,required:true,disabled:loading,style:{padding:'0.8rem 0.8rem 0.8rem 2.5rem',borderRadius:'0.5rem',border:'1px solid #3A3F47',fontSize:'1rem',background:loading?'#2A2E36':'#1E222A',color:'#E5E7EB',width:'100%',transition:'border-color 0.2s, background 0.2s',opacity:loading?0.7:1},onFocus:e=>!loading&&(e.target.style.borderColor='#0057D9'),onBlur:e=>!loading&&(e.target.style.borderColor='#3A3F47')}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>!loading&&setShowPassword(s=>!s),disabled:loading,style:{position:'absolute',right:'1rem',top:'50%',transform:'translateY(-50%)',cursor:loading?'not-allowed':'pointer',background:'transparent',border:'none',color:'#A0AEC0',fontSize:'1.1rem',padding:'0.25rem',display:'flex',alignItems:'center',justifyContent:'center',opacity:loading?0.5:1},\"aria-label\":showPassword?'Hide password':'Show password',children:showPassword?'üôà':'üëÅÔ∏è'})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading||isSubmitting||!validateForm(),style:{background:loading||isSubmitting||!validateForm()?'#3A3F47':'#0057D9',color:'#E5E7EB',padding:'0.9rem',border:'none',borderRadius:'0.5rem',fontWeight:600,fontSize:'1rem',cursor:loading||isSubmitting||!validateForm()?'not-allowed':'pointer',marginTop:'0.5rem',borderBottom:'3px solid #2ECC71',transition:'background 0.2s, transform 0.1s',opacity:loading||isSubmitting||!validateForm()?0.7:1},onMouseDown:e=>!loading&&!isSubmitting&&validateForm()&&(e.currentTarget.style.transform='scale(0.98)'),onMouseUp:e=>!loading&&!isSubmitting&&validateForm()&&(e.currentTarget.style.transform='scale(1)'),onMouseLeave:e=>!loading&&!isSubmitting&&validateForm()&&(e.currentTarget.style.transform='scale(1)'),children:loading?/*#__PURE__*/_jsxs(\"span\",{style:{display:'flex',alignItems:'center',justifyContent:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner\",style:{display:'inline-block',width:'1rem',height:'1rem',border:'2px solid rgba(255,255,255,0.3)',borderRadius:'50%',borderTopColor:'#fff',animation:'spin 1s ease-in-out infinite'}}),\"Logging in...\"]}):'Login'}),message&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#FF6B35',textAlign:'center',marginTop:'0.5rem',fontSize:'0.9rem',padding:'0.5rem',background:'rgba(255,107,53,0.1)',borderRadius:'0.25rem'},children:message}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginTop:'0.5rem',fontSize:'0.9rem'},children:/*#__PURE__*/_jsxs(\"span\",{style:{color:'#A0AEC0'},children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/register\",style:{color:'#2ECC71',fontWeight:600,textDecoration:'none',transition:'opacity 0.2s'},onMouseEnter:e=>e.currentTarget.style.opacity='0.8',onMouseLeave:e=>e.currentTarget.style.opacity='1',children:\"Sign up\"})]})})]}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n        @keyframes spin {\\n          to { transform: rotate(360deg); }\\n        }\\n        \\n        @media (max-width: 480px) {\\n          form {\\n            padding: 1.5rem 1.25rem;\\n          }\\n          \\n          h2 {\\n            font-size: 1.5rem !important;\\n          }\\n          \\n          button {\\n            font-size: 0.95rem !important;\\n          }\\n        }\\n      \"})]});}export default Login;","map":{"version":3,"names":["React","useState","useContext","useCallback","useRef","Link","useNavigate","useLocation","axios","UserContext","jsx","_jsx","jsxs","_jsxs","Login","_location$state","email","setEmail","password","setPassword","showPassword","setShowPassword","message","setMessage","loading","setLoading","isSubmitting","setIsSubmitting","navigate","location","setUser","submitTimeoutRef","validateForm","trim","includes","handleSubmit","e","preventDefault","current","clearTimeout","res","post","localStorage","setItem","data","token","user","role","err","_err$response","_err$response2","_err$response3","_err$response4","code","response","status","useEffect","handleKeyPress","key","style","background","minHeight","display","alignItems","justifyContent","padding","children","onSubmit","color","borderRadius","boxShadow","width","maxWidth","flexDirection","gap","border","fontWeight","marginBottom","textAlign","fontSize","state","success","position","htmlFor","left","top","transform","pointerEvents","zIndex","id","type","placeholder","value","onChange","target","onKeyPress","required","disabled","transition","opacity","onFocus","borderColor","onBlur","onClick","s","right","cursor","marginTop","borderBottom","onMouseDown","currentTarget","onMouseUp","onMouseLeave","className","height","borderTopColor","animation","to","textDecoration","onMouseEnter"],"sources":["D:/WORKING WEBSITES/CUSTM WEB/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState, useContext, useCallback, useRef } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport axios from '../axios';\nimport { UserContext } from '../UserContext';\n\nfunction Login() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { setUser } = useContext(UserContext);\n  const submitTimeoutRef = useRef(null);\n\n  // Debounced form validation\n  const validateForm = useCallback(() => {\n    return email.trim() && password.trim() && email.includes('@');\n  }, [email, password]);\n\n  // Optimized submit handler with debouncing\n  const handleSubmit = useCallback(async (e) => {\n    e.preventDefault();\n    \n    // Prevent multiple submissions\n    if (isSubmitting || loading) return;\n    \n    // Clear any existing timeout\n    if (submitTimeoutRef.current) {\n      clearTimeout(submitTimeoutRef.current);\n    }\n    \n    // Basic validation\n    if (!validateForm()) {\n      setMessage('Please enter valid email and password.');\n      return;\n    }\n    \n    setIsSubmitting(true);\n    setLoading(true);\n    setMessage('');\n    \n    // Clear any previous error messages\n    setMessage('');\n    \n    try {\n      // Remove unnecessary delay and make login faster\n      const res = await axios.post('/api/auth/login', { email: email.trim(), password });\n      \n      // Store token immediately for faster subsequent requests\n      localStorage.setItem('token', res.data.token);\n      \n      // Update user context\n      setUser(res.data.user);\n      \n      // Navigate based on role\n      if (res.data.user && res.data.user.role === 'admin') {\n        navigate('/admin-dashboard');\n      } else {\n        navigate('/dashboard');\n      }\n      \n    } catch (err) {\n      setLoading(false);\n      setIsSubmitting(false);\n      \n      // Better error handling with more specific messages\n      if (err.code === 'ECONNABORTED' || err.message.includes('timeout')) {\n        setMessage('Login timeout. Please check your connection and try again.');\n      } else if (err.response?.status === 400) {\n        setMessage(err.response.data.message || 'Invalid credentials.');\n      } else if (err.response?.status === 401) {\n        setMessage('Authentication failed. Please check your credentials.');\n      } else if (err.response?.status === 429) {\n        setMessage('Too many login attempts. Please wait a moment and try again.');\n      } else if (err.response?.status >= 500) {\n        setMessage('Server error. Please try again later.');\n      } else if (err.message === 'Network Error') {\n        setMessage('Network error. Please check your internet connection.');\n      } else {\n        setMessage('Login failed. Please try again.');\n      }\n    }\n  }, [email, password, isSubmitting, loading, validateForm, setUser, navigate]);\n\n  // Reset loading state on successful login\n  React.useEffect(() => {\n    if (!isSubmitting && !loading) {\n      setLoading(false);\n      setIsSubmitting(false);\n    }\n  }, [isSubmitting, loading]);\n\n  // Cleanup timeout on unmount\n  React.useEffect(() => {\n    return () => {\n      if (submitTimeoutRef.current) {\n        clearTimeout(submitTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  // Handle Enter key press\n  const handleKeyPress = useCallback((e) => {\n    if (e.key === 'Enter' && !isSubmitting && !loading) {\n      handleSubmit(e);\n    }\n  }, [handleSubmit, isSubmitting, loading]);\n\n  return (\n    <div style={{ \n      background: '#181A20', \n      minHeight: '100vh', \n      display: 'flex', \n      alignItems: 'center', \n      justifyContent: 'center',\n      padding: '1rem'\n    }}>\n      <form \n        onSubmit={handleSubmit} \n        style={{\n          background: '#23272F',\n          color: '#E5E7EB',\n          padding: '2rem 1.5rem',\n          borderRadius: '1rem',\n          boxShadow: '0 4px 20px rgba(0,0,0,0.2)',\n          width: '100%',\n          maxWidth: '400px',\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '1.25rem',\n          border: '2px solid #0057D9',\n        }}\n      >\n        <h2 style={{ \n          color: '#2ECC71', \n          fontWeight: 700, \n          marginBottom: '0.25rem', \n          textAlign: 'center', \n          fontSize: '1.75rem' \n        }}>\n          Login\n        </h2>\n        \n        {location.state?.success && (\n          <div style={{ \n            color: '#2ECC71', \n            textAlign: 'center', \n            marginBottom: '0.5rem', \n            fontWeight: 600,\n            fontSize: '0.95rem'\n          }}>\n            {location.state.success}\n          </div>\n        )}\n        \n        <div style={{ position: 'relative' }}>\n          <label \n            htmlFor=\"email\" \n            style={{\n              position: 'absolute',\n              left: '1rem',\n              top: '50%',\n              transform: 'translateY(-50%)',\n              color: '#A0AEC0',\n              fontSize: '1.2rem',\n              pointerEvents: 'none',\n              zIndex: 2\n            }}\n            aria-hidden=\"true\"\n          >\n            üìß\n          </label>\n          <input\n            id=\"email\"\n            type=\"email\"\n            placeholder=\"Email\"\n            value={email}\n            onChange={e => setEmail(e.target.value)}\n            onKeyPress={handleKeyPress}\n            required\n            disabled={loading}\n            style={{\n              padding: '0.8rem 0.8rem 0.8rem 2.5rem',\n              borderRadius: '0.5rem',\n              border: '1px solid #3A3F47',\n              fontSize: '1rem',\n              background: loading ? '#2A2E36' : '#1E222A',\n              color: '#E5E7EB',\n              width: '100%',\n              transition: 'border-color 0.2s, background 0.2s',\n              opacity: loading ? 0.7 : 1,\n            }}\n            onFocus={e => !loading && (e.target.style.borderColor = '#0057D9')}\n            onBlur={e => !loading && (e.target.style.borderColor = '#3A3F47')}\n          />\n        </div>\n        \n        <div style={{ position: 'relative' }}>\n          <label \n            htmlFor=\"password\" \n            style={{\n              position: 'absolute',\n              left: '1rem',\n              top: '50%',\n              transform: 'translateY(-50%)',\n              color: '#A0AEC0',\n              fontSize: '1.2rem',\n              pointerEvents: 'none',\n              zIndex: 2\n            }}\n            aria-hidden=\"true\"\n          >\n            üîí\n          </label>\n          <input\n            id=\"password\"\n            type={showPassword ? 'text' : 'password'}\n            placeholder=\"Password\"\n            value={password}\n            onChange={e => setPassword(e.target.value)}\n            onKeyPress={handleKeyPress}\n            required\n            disabled={loading}\n            style={{\n              padding: '0.8rem 0.8rem 0.8rem 2.5rem',\n              borderRadius: '0.5rem',\n              border: '1px solid #3A3F47',\n              fontSize: '1rem',\n              background: loading ? '#2A2E36' : '#1E222A',\n              color: '#E5E7EB',\n              width: '100%',\n              transition: 'border-color 0.2s, background 0.2s',\n              opacity: loading ? 0.7 : 1,\n            }}\n            onFocus={e => !loading && (e.target.style.borderColor = '#0057D9')}\n            onBlur={e => !loading && (e.target.style.borderColor = '#3A3F47')}\n          />\n          <button\n            type=\"button\"\n            onClick={() => !loading && setShowPassword(s => !s)}\n            disabled={loading}\n            style={{\n              position: 'absolute',\n              right: '1rem',\n              top: '50%',\n              transform: 'translateY(-50%)',\n              cursor: loading ? 'not-allowed' : 'pointer',\n              background: 'transparent',\n              border: 'none',\n              color: '#A0AEC0',\n              fontSize: '1.1rem',\n              padding: '0.25rem',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              opacity: loading ? 0.5 : 1,\n            }}\n            aria-label={showPassword ? 'Hide password' : 'Show password'}\n          >\n            {showPassword ? 'üôà' : 'üëÅÔ∏è'}\n          </button>\n        </div>\n        \n        <button \n          type=\"submit\" \n          disabled={loading || isSubmitting || !validateForm()}\n          style={{\n            background: (loading || isSubmitting || !validateForm()) ? '#3A3F47' : '#0057D9',\n            color: '#E5E7EB',\n            padding: '0.9rem',\n            border: 'none',\n            borderRadius: '0.5rem',\n            fontWeight: 600,\n            fontSize: '1rem',\n            cursor: (loading || isSubmitting || !validateForm()) ? 'not-allowed' : 'pointer',\n            marginTop: '0.5rem',\n            borderBottom: '3px solid #2ECC71',\n            transition: 'background 0.2s, transform 0.1s',\n            opacity: (loading || isSubmitting || !validateForm()) ? 0.7 : 1,\n          }}\n          onMouseDown={e => !loading && !isSubmitting && validateForm() && (e.currentTarget.style.transform = 'scale(0.98)')}\n          onMouseUp={e => !loading && !isSubmitting && validateForm() && (e.currentTarget.style.transform = 'scale(1)')}\n          onMouseLeave={e => !loading && !isSubmitting && validateForm() && (e.currentTarget.style.transform = 'scale(1)')}\n        >\n          {loading ? (\n            <span style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '0.5rem' }}>\n              <span className=\"spinner\" style={{\n                display: 'inline-block',\n                width: '1rem',\n                height: '1rem',\n                border: '2px solid rgba(255,255,255,0.3)',\n                borderRadius: '50%',\n                borderTopColor: '#fff',\n                animation: 'spin 1s ease-in-out infinite'\n              }} />\n              Logging in...\n            </span>\n          ) : 'Login'}\n        </button>\n        \n        {message && (\n          <div style={{ \n            color: '#FF6B35', \n            textAlign: 'center', \n            marginTop: '0.5rem',\n            fontSize: '0.9rem',\n            padding: '0.5rem',\n            background: 'rgba(255,107,53,0.1)',\n            borderRadius: '0.25rem'\n          }}>\n            {message}\n          </div>\n        )}\n        \n        <div style={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginTop: '0.5rem',\n          fontSize: '0.9rem'\n        }}>\n          <span style={{ color: '#A0AEC0' }}>\n            Don't have an account?{' '}\n            <Link \n              to=\"/register\" \n              style={{\n                color: '#2ECC71',\n                fontWeight: 600,\n                textDecoration: 'none',\n                transition: 'opacity 0.2s'\n              }}\n              onMouseEnter={e => e.currentTarget.style.opacity = '0.8'}\n              onMouseLeave={e => e.currentTarget.style.opacity = '1'}\n            >\n              Sign up\n            </Link>\n          </span>\n        </div>\n      </form>\n      \n      <style>{`\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n        \n        @media (max-width: 480px) {\n          form {\n            padding: 1.5rem 1.25rem;\n          }\n          \n          h2 {\n            font-size: 1.5rem !important;\n          }\n          \n          button {\n            font-size: 0.95rem !important;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n\nexport default Login;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,UAAU,CAAEC,WAAW,CAAEC,MAAM,KAAQ,OAAO,CACxE,OAASC,IAAI,CAAEC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CACjE,MAAO,CAAAC,KAAK,KAAM,UAAU,CAC5B,OAASC,WAAW,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,QAAS,CAAAC,KAAKA,CAAA,CAAG,KAAAC,eAAA,CACf,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACiB,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACmB,YAAY,CAAEC,eAAe,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACqB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACuB,OAAO,CAAEC,UAAU,CAAC,CAAGxB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACyB,YAAY,CAAEC,eAAe,CAAC,CAAG1B,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAAA2B,QAAQ,CAAGtB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAuB,QAAQ,CAAGtB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEuB,OAAQ,CAAC,CAAG5B,UAAU,CAACO,WAAW,CAAC,CAC3C,KAAM,CAAAsB,gBAAgB,CAAG3B,MAAM,CAAC,IAAI,CAAC,CAErC;AACA,KAAM,CAAA4B,YAAY,CAAG7B,WAAW,CAAC,IAAM,CACrC,MAAO,CAAAa,KAAK,CAACiB,IAAI,CAAC,CAAC,EAAIf,QAAQ,CAACe,IAAI,CAAC,CAAC,EAAIjB,KAAK,CAACkB,QAAQ,CAAC,GAAG,CAAC,CAC/D,CAAC,CAAE,CAAClB,KAAK,CAAEE,QAAQ,CAAC,CAAC,CAErB;AACA,KAAM,CAAAiB,YAAY,CAAGhC,WAAW,CAAC,KAAO,CAAAiC,CAAC,EAAK,CAC5CA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB;AACA,GAAIX,YAAY,EAAIF,OAAO,CAAE,OAE7B;AACA,GAAIO,gBAAgB,CAACO,OAAO,CAAE,CAC5BC,YAAY,CAACR,gBAAgB,CAACO,OAAO,CAAC,CACxC,CAEA;AACA,GAAI,CAACN,YAAY,CAAC,CAAC,CAAE,CACnBT,UAAU,CAAC,wCAAwC,CAAC,CACpD,OACF,CAEAI,eAAe,CAAC,IAAI,CAAC,CACrBF,UAAU,CAAC,IAAI,CAAC,CAChBF,UAAU,CAAC,EAAE,CAAC,CAEd;AACAA,UAAU,CAAC,EAAE,CAAC,CAEd,GAAI,CACF;AACA,KAAM,CAAAiB,GAAG,CAAG,KAAM,CAAAhC,KAAK,CAACiC,IAAI,CAAC,iBAAiB,CAAE,CAAEzB,KAAK,CAAEA,KAAK,CAACiB,IAAI,CAAC,CAAC,CAAEf,QAAS,CAAC,CAAC,CAElF;AACAwB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEH,GAAG,CAACI,IAAI,CAACC,KAAK,CAAC,CAE7C;AACAf,OAAO,CAACU,GAAG,CAACI,IAAI,CAACE,IAAI,CAAC,CAEtB;AACA,GAAIN,GAAG,CAACI,IAAI,CAACE,IAAI,EAAIN,GAAG,CAACI,IAAI,CAACE,IAAI,CAACC,IAAI,GAAK,OAAO,CAAE,CACnDnB,QAAQ,CAAC,kBAAkB,CAAC,CAC9B,CAAC,IAAM,CACLA,QAAQ,CAAC,YAAY,CAAC,CACxB,CAEF,CAAE,MAAOoB,GAAG,CAAE,KAAAC,aAAA,CAAAC,cAAA,CAAAC,cAAA,CAAAC,cAAA,CACZ3B,UAAU,CAAC,KAAK,CAAC,CACjBE,eAAe,CAAC,KAAK,CAAC,CAEtB;AACA,GAAIqB,GAAG,CAACK,IAAI,GAAK,cAAc,EAAIL,GAAG,CAAC1B,OAAO,CAACY,QAAQ,CAAC,SAAS,CAAC,CAAE,CAClEX,UAAU,CAAC,4DAA4D,CAAC,CAC1E,CAAC,IAAM,IAAI,EAAA0B,aAAA,CAAAD,GAAG,CAACM,QAAQ,UAAAL,aAAA,iBAAZA,aAAA,CAAcM,MAAM,IAAK,GAAG,CAAE,CACvChC,UAAU,CAACyB,GAAG,CAACM,QAAQ,CAACV,IAAI,CAACtB,OAAO,EAAI,sBAAsB,CAAC,CACjE,CAAC,IAAM,IAAI,EAAA4B,cAAA,CAAAF,GAAG,CAACM,QAAQ,UAAAJ,cAAA,iBAAZA,cAAA,CAAcK,MAAM,IAAK,GAAG,CAAE,CACvChC,UAAU,CAAC,uDAAuD,CAAC,CACrE,CAAC,IAAM,IAAI,EAAA4B,cAAA,CAAAH,GAAG,CAACM,QAAQ,UAAAH,cAAA,iBAAZA,cAAA,CAAcI,MAAM,IAAK,GAAG,CAAE,CACvChC,UAAU,CAAC,8DAA8D,CAAC,CAC5E,CAAC,IAAM,IAAI,EAAA6B,cAAA,CAAAJ,GAAG,CAACM,QAAQ,UAAAF,cAAA,iBAAZA,cAAA,CAAcG,MAAM,GAAI,GAAG,CAAE,CACtChC,UAAU,CAAC,uCAAuC,CAAC,CACrD,CAAC,IAAM,IAAIyB,GAAG,CAAC1B,OAAO,GAAK,eAAe,CAAE,CAC1CC,UAAU,CAAC,uDAAuD,CAAC,CACrE,CAAC,IAAM,CACLA,UAAU,CAAC,iCAAiC,CAAC,CAC/C,CACF,CACF,CAAC,CAAE,CAACP,KAAK,CAAEE,QAAQ,CAAEQ,YAAY,CAAEF,OAAO,CAAEQ,YAAY,CAAEF,OAAO,CAAEF,QAAQ,CAAC,CAAC,CAE7E;AACA5B,KAAK,CAACwD,SAAS,CAAC,IAAM,CACpB,GAAI,CAAC9B,YAAY,EAAI,CAACF,OAAO,CAAE,CAC7BC,UAAU,CAAC,KAAK,CAAC,CACjBE,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CAAC,CAAE,CAACD,YAAY,CAAEF,OAAO,CAAC,CAAC,CAE3B;AACAxB,KAAK,CAACwD,SAAS,CAAC,IAAM,CACpB,MAAO,IAAM,CACX,GAAIzB,gBAAgB,CAACO,OAAO,CAAE,CAC5BC,YAAY,CAACR,gBAAgB,CAACO,OAAO,CAAC,CACxC,CACF,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAmB,cAAc,CAAGtD,WAAW,CAAEiC,CAAC,EAAK,CACxC,GAAIA,CAAC,CAACsB,GAAG,GAAK,OAAO,EAAI,CAAChC,YAAY,EAAI,CAACF,OAAO,CAAE,CAClDW,YAAY,CAACC,CAAC,CAAC,CACjB,CACF,CAAC,CAAE,CAACD,YAAY,CAAET,YAAY,CAAEF,OAAO,CAAC,CAAC,CAEzC,mBACEX,KAAA,QAAK8C,KAAK,CAAE,CACVC,UAAU,CAAE,SAAS,CACrBC,SAAS,CAAE,OAAO,CAClBC,OAAO,CAAE,MAAM,CACfC,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QAAQ,CACxBC,OAAO,CAAE,MACX,CAAE,CAAAC,QAAA,eACArD,KAAA,SACEsD,QAAQ,CAAEhC,YAAa,CACvBwB,KAAK,CAAE,CACLC,UAAU,CAAE,SAAS,CACrBQ,KAAK,CAAE,SAAS,CAChBH,OAAO,CAAE,aAAa,CACtBI,YAAY,CAAE,MAAM,CACpBC,SAAS,CAAE,4BAA4B,CACvCC,KAAK,CAAE,MAAM,CACbC,QAAQ,CAAE,OAAO,CACjBV,OAAO,CAAE,MAAM,CACfW,aAAa,CAAE,QAAQ,CACvBC,GAAG,CAAE,SAAS,CACdC,MAAM,CAAE,mBACV,CAAE,CAAAT,QAAA,eAEFvD,IAAA,OAAIgD,KAAK,CAAE,CACTS,KAAK,CAAE,SAAS,CAChBQ,UAAU,CAAE,GAAG,CACfC,YAAY,CAAE,SAAS,CACvBC,SAAS,CAAE,QAAQ,CACnBC,QAAQ,CAAE,SACZ,CAAE,CAAAb,QAAA,CAAC,OAEH,CAAI,CAAC,CAEJ,EAAAnD,eAAA,CAAAc,QAAQ,CAACmD,KAAK,UAAAjE,eAAA,iBAAdA,eAAA,CAAgBkE,OAAO,gBACtBtE,IAAA,QAAKgD,KAAK,CAAE,CACVS,KAAK,CAAE,SAAS,CAChBU,SAAS,CAAE,QAAQ,CACnBD,YAAY,CAAE,QAAQ,CACtBD,UAAU,CAAE,GAAG,CACfG,QAAQ,CAAE,SACZ,CAAE,CAAAb,QAAA,CACCrC,QAAQ,CAACmD,KAAK,CAACC,OAAO,CACpB,CACN,cAEDpE,KAAA,QAAK8C,KAAK,CAAE,CAAEuB,QAAQ,CAAE,UAAW,CAAE,CAAAhB,QAAA,eACnCvD,IAAA,UACEwE,OAAO,CAAC,OAAO,CACfxB,KAAK,CAAE,CACLuB,QAAQ,CAAE,UAAU,CACpBE,IAAI,CAAE,MAAM,CACZC,GAAG,CAAE,KAAK,CACVC,SAAS,CAAE,kBAAkB,CAC7BlB,KAAK,CAAE,SAAS,CAChBW,QAAQ,CAAE,QAAQ,CAClBQ,aAAa,CAAE,MAAM,CACrBC,MAAM,CAAE,CACV,CAAE,CACF,cAAY,MAAM,CAAAtB,QAAA,CACnB,cAED,CAAO,CAAC,cACRvD,IAAA,UACE8E,EAAE,CAAC,OAAO,CACVC,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,OAAO,CACnBC,KAAK,CAAE5E,KAAM,CACb6E,QAAQ,CAAEzD,CAAC,EAAInB,QAAQ,CAACmB,CAAC,CAAC0D,MAAM,CAACF,KAAK,CAAE,CACxCG,UAAU,CAAEtC,cAAe,CAC3BuC,QAAQ,MACRC,QAAQ,CAAEzE,OAAQ,CAClBmC,KAAK,CAAE,CACLM,OAAO,CAAE,6BAA6B,CACtCI,YAAY,CAAE,QAAQ,CACtBM,MAAM,CAAE,mBAAmB,CAC3BI,QAAQ,CAAE,MAAM,CAChBnB,UAAU,CAAEpC,OAAO,CAAG,SAAS,CAAG,SAAS,CAC3C4C,KAAK,CAAE,SAAS,CAChBG,KAAK,CAAE,MAAM,CACb2B,UAAU,CAAE,oCAAoC,CAChDC,OAAO,CAAE3E,OAAO,CAAG,GAAG,CAAG,CAC3B,CAAE,CACF4E,OAAO,CAAEhE,CAAC,EAAI,CAACZ,OAAO,GAAKY,CAAC,CAAC0D,MAAM,CAACnC,KAAK,CAAC0C,WAAW,CAAG,SAAS,CAAE,CACnEC,MAAM,CAAElE,CAAC,EAAI,CAACZ,OAAO,GAAKY,CAAC,CAAC0D,MAAM,CAACnC,KAAK,CAAC0C,WAAW,CAAG,SAAS,CAAE,CACnE,CAAC,EACC,CAAC,cAENxF,KAAA,QAAK8C,KAAK,CAAE,CAAEuB,QAAQ,CAAE,UAAW,CAAE,CAAAhB,QAAA,eACnCvD,IAAA,UACEwE,OAAO,CAAC,UAAU,CAClBxB,KAAK,CAAE,CACLuB,QAAQ,CAAE,UAAU,CACpBE,IAAI,CAAE,MAAM,CACZC,GAAG,CAAE,KAAK,CACVC,SAAS,CAAE,kBAAkB,CAC7BlB,KAAK,CAAE,SAAS,CAChBW,QAAQ,CAAE,QAAQ,CAClBQ,aAAa,CAAE,MAAM,CACrBC,MAAM,CAAE,CACV,CAAE,CACF,cAAY,MAAM,CAAAtB,QAAA,CACnB,cAED,CAAO,CAAC,cACRvD,IAAA,UACE8E,EAAE,CAAC,UAAU,CACbC,IAAI,CAAEtE,YAAY,CAAG,MAAM,CAAG,UAAW,CACzCuE,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAE1E,QAAS,CAChB2E,QAAQ,CAAEzD,CAAC,EAAIjB,WAAW,CAACiB,CAAC,CAAC0D,MAAM,CAACF,KAAK,CAAE,CAC3CG,UAAU,CAAEtC,cAAe,CAC3BuC,QAAQ,MACRC,QAAQ,CAAEzE,OAAQ,CAClBmC,KAAK,CAAE,CACLM,OAAO,CAAE,6BAA6B,CACtCI,YAAY,CAAE,QAAQ,CACtBM,MAAM,CAAE,mBAAmB,CAC3BI,QAAQ,CAAE,MAAM,CAChBnB,UAAU,CAAEpC,OAAO,CAAG,SAAS,CAAG,SAAS,CAC3C4C,KAAK,CAAE,SAAS,CAChBG,KAAK,CAAE,MAAM,CACb2B,UAAU,CAAE,oCAAoC,CAChDC,OAAO,CAAE3E,OAAO,CAAG,GAAG,CAAG,CAC3B,CAAE,CACF4E,OAAO,CAAEhE,CAAC,EAAI,CAACZ,OAAO,GAAKY,CAAC,CAAC0D,MAAM,CAACnC,KAAK,CAAC0C,WAAW,CAAG,SAAS,CAAE,CACnEC,MAAM,CAAElE,CAAC,EAAI,CAACZ,OAAO,GAAKY,CAAC,CAAC0D,MAAM,CAACnC,KAAK,CAAC0C,WAAW,CAAG,SAAS,CAAE,CACnE,CAAC,cACF1F,IAAA,WACE+E,IAAI,CAAC,QAAQ,CACba,OAAO,CAAEA,CAAA,GAAM,CAAC/E,OAAO,EAAIH,eAAe,CAACmF,CAAC,EAAI,CAACA,CAAC,CAAE,CACpDP,QAAQ,CAAEzE,OAAQ,CAClBmC,KAAK,CAAE,CACLuB,QAAQ,CAAE,UAAU,CACpBuB,KAAK,CAAE,MAAM,CACbpB,GAAG,CAAE,KAAK,CACVC,SAAS,CAAE,kBAAkB,CAC7BoB,MAAM,CAAElF,OAAO,CAAG,aAAa,CAAG,SAAS,CAC3CoC,UAAU,CAAE,aAAa,CACzBe,MAAM,CAAE,MAAM,CACdP,KAAK,CAAE,SAAS,CAChBW,QAAQ,CAAE,QAAQ,CAClBd,OAAO,CAAE,SAAS,CAClBH,OAAO,CAAE,MAAM,CACfC,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QAAQ,CACxBmC,OAAO,CAAE3E,OAAO,CAAG,GAAG,CAAG,CAC3B,CAAE,CACF,aAAYJ,YAAY,CAAG,eAAe,CAAG,eAAgB,CAAA8C,QAAA,CAE5D9C,YAAY,CAAG,IAAI,CAAG,KAAK,CACtB,CAAC,EACN,CAAC,cAENT,IAAA,WACE+E,IAAI,CAAC,QAAQ,CACbO,QAAQ,CAAEzE,OAAO,EAAIE,YAAY,EAAI,CAACM,YAAY,CAAC,CAAE,CACrD2B,KAAK,CAAE,CACLC,UAAU,CAAGpC,OAAO,EAAIE,YAAY,EAAI,CAACM,YAAY,CAAC,CAAC,CAAI,SAAS,CAAG,SAAS,CAChFoC,KAAK,CAAE,SAAS,CAChBH,OAAO,CAAE,QAAQ,CACjBU,MAAM,CAAE,MAAM,CACdN,YAAY,CAAE,QAAQ,CACtBO,UAAU,CAAE,GAAG,CACfG,QAAQ,CAAE,MAAM,CAChB2B,MAAM,CAAGlF,OAAO,EAAIE,YAAY,EAAI,CAACM,YAAY,CAAC,CAAC,CAAI,aAAa,CAAG,SAAS,CAChF2E,SAAS,CAAE,QAAQ,CACnBC,YAAY,CAAE,mBAAmB,CACjCV,UAAU,CAAE,iCAAiC,CAC7CC,OAAO,CAAG3E,OAAO,EAAIE,YAAY,EAAI,CAACM,YAAY,CAAC,CAAC,CAAI,GAAG,CAAG,CAChE,CAAE,CACF6E,WAAW,CAAEzE,CAAC,EAAI,CAACZ,OAAO,EAAI,CAACE,YAAY,EAAIM,YAAY,CAAC,CAAC,GAAKI,CAAC,CAAC0E,aAAa,CAACnD,KAAK,CAAC2B,SAAS,CAAG,aAAa,CAAE,CACnHyB,SAAS,CAAE3E,CAAC,EAAI,CAACZ,OAAO,EAAI,CAACE,YAAY,EAAIM,YAAY,CAAC,CAAC,GAAKI,CAAC,CAAC0E,aAAa,CAACnD,KAAK,CAAC2B,SAAS,CAAG,UAAU,CAAE,CAC9G0B,YAAY,CAAE5E,CAAC,EAAI,CAACZ,OAAO,EAAI,CAACE,YAAY,EAAIM,YAAY,CAAC,CAAC,GAAKI,CAAC,CAAC0E,aAAa,CAACnD,KAAK,CAAC2B,SAAS,CAAG,UAAU,CAAE,CAAApB,QAAA,CAEhH1C,OAAO,cACNX,KAAA,SAAM8C,KAAK,CAAE,CAAEG,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEC,cAAc,CAAE,QAAQ,CAAEU,GAAG,CAAE,QAAS,CAAE,CAAAR,QAAA,eAC9FvD,IAAA,SAAMsG,SAAS,CAAC,SAAS,CAACtD,KAAK,CAAE,CAC/BG,OAAO,CAAE,cAAc,CACvBS,KAAK,CAAE,MAAM,CACb2C,MAAM,CAAE,MAAM,CACdvC,MAAM,CAAE,iCAAiC,CACzCN,YAAY,CAAE,KAAK,CACnB8C,cAAc,CAAE,MAAM,CACtBC,SAAS,CAAE,8BACb,CAAE,CAAE,CAAC,gBAEP,EAAM,CAAC,CACL,OAAO,CACL,CAAC,CAER9F,OAAO,eACNX,IAAA,QAAKgD,KAAK,CAAE,CACVS,KAAK,CAAE,SAAS,CAChBU,SAAS,CAAE,QAAQ,CACnB6B,SAAS,CAAE,QAAQ,CACnB5B,QAAQ,CAAE,QAAQ,CAClBd,OAAO,CAAE,QAAQ,CACjBL,UAAU,CAAE,sBAAsB,CAClCS,YAAY,CAAE,SAChB,CAAE,CAAAH,QAAA,CACC5C,OAAO,CACL,CACN,cAEDX,IAAA,QAAKgD,KAAK,CAAE,CACVG,OAAO,CAAE,MAAM,CACfE,cAAc,CAAE,eAAe,CAC/BD,UAAU,CAAE,QAAQ,CACpB4C,SAAS,CAAE,QAAQ,CACnB5B,QAAQ,CAAE,QACZ,CAAE,CAAAb,QAAA,cACArD,KAAA,SAAM8C,KAAK,CAAE,CAAES,KAAK,CAAE,SAAU,CAAE,CAAAF,QAAA,EAAC,wBACX,CAAC,GAAG,cAC1BvD,IAAA,CAACN,IAAI,EACHgH,EAAE,CAAC,WAAW,CACd1D,KAAK,CAAE,CACLS,KAAK,CAAE,SAAS,CAChBQ,UAAU,CAAE,GAAG,CACf0C,cAAc,CAAE,MAAM,CACtBpB,UAAU,CAAE,cACd,CAAE,CACFqB,YAAY,CAAEnF,CAAC,EAAIA,CAAC,CAAC0E,aAAa,CAACnD,KAAK,CAACwC,OAAO,CAAG,KAAM,CACzDa,YAAY,CAAE5E,CAAC,EAAIA,CAAC,CAAC0E,aAAa,CAACnD,KAAK,CAACwC,OAAO,CAAG,GAAI,CAAAjC,QAAA,CACxD,SAED,CAAM,CAAC,EACH,CAAC,CACJ,CAAC,EACF,CAAC,cAEPvD,IAAA,UAAAuD,QAAA,2YAkBS,CAAC,EACP,CAAC,CAEV,CAEA,cAAe,CAAApD,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}